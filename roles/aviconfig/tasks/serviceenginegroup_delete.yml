# Automatically Generated File
# Copyright 2021 VMware, Inc. All rights reserved. VMware Confidential
---
- name: Avi ServiceEngineGroup | Delete ServiceEngineGroup
  vmware.alb.avi_serviceenginegroup:
    controller: "{{ avi_controller | default(omit) }}"
    username: "{{ avi_username | default(omit) }}"
    password: "{{ avi_password | default(omit) }}"
    tenant: "{{ item.tenant | default(omit) }}"
    api_version: "{{ api_version | default(omit) }}"
    avi_credentials: "{{ avi_credentials | default(omit) }}"
    api_context: "{{ avi_api_context | default(omit) }}"
    state: "{{ avi_role_state_mode }}"
    avi_api_update_method: "{{ item.avi_api_update_method | default(omit) }}"
    avi_api_patch_op: "{{ item.avi_api_patch_op | default(omit) }}"
    accelerated_networking: "{{ item.accelerated_networking | default(omit) }}"
    active_standby: "{{ item.active_standby | default(omit) }}"
    additional_config_memory: "{{ item.additional_config_memory | default(omit) }}"
    advertise_backend_networks: "{{ item.advertise_backend_networks | default(omit) }}"
    aggressive_failure_detection: "{{ item.aggressive_failure_detection | default(omit) }}"
    algo: "{{ item.algo | default(omit) }}"
    allow_burst: "{{ item.allow_burst | default(omit) }}"
    app_cache_percent: "{{ item.app_cache_percent | default(omit) }}"
    app_cache_threshold: "{{ item.app_cache_threshold | default(omit) }}"
    app_learning_memory_percent: "{{ item.app_learning_memory_percent | default(omit) }}"
    archive_shm_limit: "{{ item.archive_shm_limit | default(omit) }}"
    async_ssl: "{{ item.async_ssl | default(omit) }}"
    async_ssl_threads: "{{ item.async_ssl_threads | default(omit) }}"
    auto_rebalance: "{{ item.auto_rebalance | default(omit) }}"
    auto_rebalance_capacity_per_se: "{{ item.auto_rebalance_capacity_per_se | default(omit) }}"
    auto_rebalance_criteria: "{{ item.auto_rebalance_criteria | default(omit) }}"
    auto_rebalance_interval: "{{ item.auto_rebalance_interval | default(omit) }}"
    auto_redistribute_active_standby_load: "{{ item.auto_redistribute_active_standby_load | default(omit) }}"
    availability_zone_refs: "{{ item.availability_zone_refs | default(omit) }}"
    bgp_state_update_interval: "{{ item.bgp_state_update_interval | default(omit) }}"
    buffer_se: "{{ item.buffer_se | default(omit) }}"
    cloud_ref: "{{ item.cloud_ref | default(omit) }}"
    compress_ip_rules_for_each_ns_subnet: "{{ item.compress_ip_rules_for_each_ns_subnet | default(omit) }}"
    config_debugs_on_all_cores: "{{ item.config_debugs_on_all_cores | default(omit) }}"
    connection_memory_percentage: "{{ item.connection_memory_percentage | default(omit) }}"
    core_shm_app_cache: "{{ item.core_shm_app_cache | default(omit) }}"
    core_shm_app_learning: "{{ item.core_shm_app_learning | default(omit) }}"
    cpu_reserve: "{{ item.cpu_reserve | default(omit) }}"
    cpu_socket_affinity: "{{ item.cpu_socket_affinity | default(omit) }}"
    custom_securitygroups_data: "{{ item.custom_securitygroups_data | default(omit) }}"
    custom_securitygroups_mgmt: "{{ item.custom_securitygroups_mgmt | default(omit) }}"
    custom_tag: "{{ item.custom_tag | default(omit) }}"
    data_network_id: "{{ item.data_network_id | default(omit) }}"
    datascript_timeout: "{{ item.datascript_timeout | default(omit) }}"
    dedicated_dispatcher_core: "{{ item.dedicated_dispatcher_core | default(omit) }}"
    description: "{{ item.description | default(omit) }}"
    disable_avi_securitygroups: "{{ item.disable_avi_securitygroups | default(omit) }}"
    disable_csum_offloads: "{{ item.disable_csum_offloads | default(omit) }}"
    disable_flow_probes: "{{ item.disable_flow_probes | default(omit) }}"
    disable_gro: "{{ item.disable_gro | default(omit) }}"
    disable_se_memory_check: "{{ item.disable_se_memory_check | default(omit) }}"
    disable_tso: "{{ item.disable_tso | default(omit) }}"
    disk_per_se: "{{ item.disk_per_se | default(omit) }}"
    distribute_load_active_standby: "{{ item.distribute_load_active_standby | default(omit) }}"
    distribute_queues: "{{ item.distribute_queues | default(omit) }}"
    distribute_vnics: "{{ item.distribute_vnics | default(omit) }}"
    downstream_send_timeout: "{{ item.downstream_send_timeout | default(omit) }}"
    dp_aggressive_deq_interval_msec: "{{ item.dp_aggressive_deq_interval_msec | default(omit) }}"
    dp_aggressive_enq_interval_msec: "{{ item.dp_aggressive_enq_interval_msec | default(omit) }}"
    dp_aggressive_hb_frequency: "{{ item.dp_aggressive_hb_frequency | default(omit) }}"
    dp_aggressive_hb_timeout_count: "{{ item.dp_aggressive_hb_timeout_count | default(omit) }}"
    dp_deq_interval_msec: "{{ item.dp_deq_interval_msec | default(omit) }}"
    dp_enq_interval_msec: "{{ item.dp_enq_interval_msec | default(omit) }}"
    dp_hb_frequency: "{{ item.dp_hb_frequency | default(omit) }}"
    dp_hb_timeout_count: "{{ item.dp_hb_timeout_count | default(omit) }}"
    enable_gratarp_permanent: "{{ item.enable_gratarp_permanent | default(omit) }}"
    enable_hsm_log: "{{ item.enable_hsm_log | default(omit) }}"
    enable_hsm_priming: "{{ item.enable_hsm_priming | default(omit) }}"
    enable_multi_lb: "{{ item.enable_multi_lb | default(omit) }}"
    enable_pcap_tx_ring: "{{ item.enable_pcap_tx_ring | default(omit) }}"
    enable_routing: "{{ item.enable_routing | default(omit) }}"
    enable_vip_on_all_interfaces: "{{ item.enable_vip_on_all_interfaces | default(omit) }}"
    enable_vmac: "{{ item.enable_vmac | default(omit) }}"
    ephemeral_portrange_end: "{{ item.ephemeral_portrange_end | default(omit) }}"
    ephemeral_portrange_start: "{{ item.ephemeral_portrange_start | default(omit) }}"
    extra_config_multiplier: "{{ item.extra_config_multiplier | default(omit) }}"
    extra_shared_config_memory: "{{ item.extra_shared_config_memory | default(omit) }}"
    floating_intf_ip: "{{ item.floating_intf_ip | default(omit) }}"
    floating_intf_ip_se_2: "{{ item.floating_intf_ip_se_2 | default(omit) }}"
    flow_table_new_syn_max_entries: "{{ item.flow_table_new_syn_max_entries | default(omit) }}"
    free_list_size: "{{ item.free_list_size | default(omit) }}"
    gcp_config: "{{ item.gcp_config | default(omit) }}"
    gratarp_permanent_periodicity: "{{ item.gratarp_permanent_periodicity | default(omit) }}"
    ha_mode: "{{ item.ha_mode | default(omit) }}"
    handle_per_pkt_attack: "{{ item.handle_per_pkt_attack | default(omit) }}"
    hardwaresecuritymodulegroup_ref: "{{ item.hardwaresecuritymodulegroup_ref | default(omit) }}"
    heap_minimum_config_memory: "{{ item.heap_minimum_config_memory | default(omit) }}"
    hm_on_standby: "{{ item.hm_on_standby | default(omit) }}"
    host_attribute_key: "{{ item.host_attribute_key | default(omit) }}"
    host_attribute_value: "{{ item.host_attribute_value | default(omit) }}"
    host_gateway_monitor: "{{ item.host_gateway_monitor | default(omit) }}"
    http_rum_console_log: "{{ item.http_rum_console_log | default(omit) }}"
    http_rum_min_content_length: "{{ item.http_rum_min_content_length | default(omit) }}"
    hypervisor: "{{ item.hypervisor | default(omit) }}"
    ignore_rtt_threshold: "{{ item.ignore_rtt_threshold | default(omit) }}"
    ingress_access_data: "{{ item.ingress_access_data | default(omit) }}"
    ingress_access_mgmt: "{{ item.ingress_access_mgmt | default(omit) }}"
    instance_flavor: "{{ item.instance_flavor | default(omit) }}"
    instance_flavor_info: "{{ item.instance_flavor_info | default(omit) }}"
    iptables: "{{ item.iptables | default(omit) }}"
    l7_conns_per_core: "{{ item.l7_conns_per_core | default(omit) }}"
    l7_resvd_listen_conns_per_core: "{{ item.l7_resvd_listen_conns_per_core | default(omit) }}"
    labels: "{{ item.labels | default(omit) }}"
    lbaction_num_requests_to_dispatch: "{{ item.lbaction_num_requests_to_dispatch | default(omit) }}"
    lbaction_rq_per_request_max_retries: "{{ item.lbaction_rq_per_request_max_retries | default(omit) }}"
    least_load_core_selection: "{{ item.least_load_core_selection | default(omit) }}"
    license_tier: "{{ item.license_tier | default(omit) }}"
    license_type: "{{ item.license_type | default(omit) }}"
    log_disksz: "{{ item.log_disksz | default(omit) }}"
    log_malloc_failure: "{{ item.log_malloc_failure | default(omit) }}"
    max_concurrent_external_hm: "{{ item.max_concurrent_external_hm | default(omit) }}"
    max_cpu_usage: "{{ item.max_cpu_usage | default(omit) }}"
    max_memory_per_mempool: "{{ item.max_memory_per_mempool | default(omit) }}"
    max_num_se_dps: "{{ item.max_num_se_dps | default(omit) }}"
    max_public_ips_per_lb: "{{ item.max_public_ips_per_lb | default(omit) }}"
    max_queues_per_vnic: "{{ item.max_queues_per_vnic | default(omit) }}"
    max_rules_per_lb: "{{ item.max_rules_per_lb | default(omit) }}"
    max_scaleout_per_vs: "{{ item.max_scaleout_per_vs | default(omit) }}"
    max_se: "{{ item.max_se | default(omit) }}"
    max_vs_per_se: "{{ item.max_vs_per_se | default(omit) }}"
    mem_reserve: "{{ item.mem_reserve | default(omit) }}"
    memory_for_config_update: "{{ item.memory_for_config_update | default(omit) }}"
    memory_per_se: "{{ item.memory_per_se | default(omit) }}"
    mgmt_network_ref: "{{ item.mgmt_network_ref | default(omit) }}"
    mgmt_subnet: "{{ item.mgmt_subnet | default(omit) }}"
    min_cpu_usage: "{{ item.min_cpu_usage | default(omit) }}"
    min_scaleout_per_vs: "{{ item.min_scaleout_per_vs | default(omit) }}"
    min_se: "{{ item.min_se | default(omit) }}"
    minimum_connection_memory: "{{ item.minimum_connection_memory | default(omit) }}"
    minimum_required_config_memory: "{{ item.minimum_required_config_memory | default(omit) }}"
    n_log_streaming_threads: "{{ item.n_log_streaming_threads | default(omit) }}"
    name: "{{ item.name | default(omit) }}"
    nat_flow_tcp_closed_timeout: "{{ item.nat_flow_tcp_closed_timeout | default(omit) }}"
    nat_flow_tcp_established_timeout: "{{ item.nat_flow_tcp_established_timeout | default(omit) }}"
    nat_flow_tcp_half_closed_timeout: "{{ item.nat_flow_tcp_half_closed_timeout | default(omit) }}"
    nat_flow_tcp_handshake_timeout: "{{ item.nat_flow_tcp_handshake_timeout | default(omit) }}"
    nat_flow_udp_noresponse_timeout: "{{ item.nat_flow_udp_noresponse_timeout | default(omit) }}"
    nat_flow_udp_response_timeout: "{{ item.nat_flow_udp_response_timeout | default(omit) }}"
    netlink_poller_threads: "{{ item.netlink_poller_threads | default(omit) }}"
    netlink_sock_buf_size: "{{ item.netlink_sock_buf_size | default(omit) }}"
    ngx_free_connection_stack: "{{ item.ngx_free_connection_stack | default(omit) }}"
    non_significant_log_throttle: "{{ item.non_significant_log_throttle | default(omit) }}"
    ns_helper_deq_interval_msec: "{{ item.ns_helper_deq_interval_msec | default(omit) }}"
    num_dispatcher_cores: "{{ item.num_dispatcher_cores | default(omit) }}"
    num_flow_cores_sum_changes_to_ignore: "{{ item.num_flow_cores_sum_changes_to_ignore | default(omit) }}"
    objsync_config: "{{ item.objsync_config | default(omit) }}"
    objsync_port: "{{ item.objsync_port | default(omit) }}"
    openstack_availability_zone: "{{ item.openstack_availability_zone | default(omit) }}"
    openstack_availability_zones: "{{ item.openstack_availability_zones | default(omit) }}"
    openstack_mgmt_network_name: "{{ item.openstack_mgmt_network_name | default(omit) }}"
    openstack_mgmt_network_uuid: "{{ item.openstack_mgmt_network_uuid | default(omit) }}"
    os_reserved_memory: "{{ item.os_reserved_memory | default(omit) }}"
    pcap_tx_mode: "{{ item.pcap_tx_mode | default(omit) }}"
    pcap_tx_ring_rd_balancing_factor: "{{ item.pcap_tx_ring_rd_balancing_factor | default(omit) }}"
    per_app: "{{ item.per_app | default(omit) }}"
    per_vs_admission_control: "{{ item.per_vs_admission_control | default(omit) }}"
    placement_mode: "{{ item.placement_mode | default(omit) }}"
    realtime_se_metrics: "{{ item.realtime_se_metrics | default(omit) }}"
    reboot_on_panic: "{{ item.reboot_on_panic | default(omit) }}"
    reboot_on_stop: "{{ item.reboot_on_stop | default(omit) }}"
    resync_time_interval: "{{ item.resync_time_interval | default(omit) }}"
    sdb_flush_interval: "{{ item.sdb_flush_interval | default(omit) }}"
    sdb_pipeline_size: "{{ item.sdb_pipeline_size | default(omit) }}"
    sdb_scan_count: "{{ item.sdb_scan_count | default(omit) }}"
    se_bandwidth_type: "{{ item.se_bandwidth_type | default(omit) }}"
    se_delayed_flow_delete: "{{ item.se_delayed_flow_delete | default(omit) }}"
    se_deprovision_delay: "{{ item.se_deprovision_delay | default(omit) }}"
    se_dos_profile: "{{ item.se_dos_profile | default(omit) }}"
    se_dp_hm_drops: "{{ item.se_dp_hm_drops | default(omit) }}"
    se_dp_isolation: "{{ item.se_dp_isolation | default(omit) }}"
    se_dp_isolation_num_non_dp_cpus: "{{ item.se_dp_isolation_num_non_dp_cpus | default(omit) }}"
    se_dp_max_hb_version: "{{ item.se_dp_max_hb_version | default(omit) }}"
    se_dp_vnic_queue_stall_event_sleep: "{{ item.se_dp_vnic_queue_stall_event_sleep | default(omit) }}"
    se_dp_vnic_queue_stall_threshold: "{{ item.se_dp_vnic_queue_stall_threshold | default(omit) }}"
    se_dp_vnic_queue_stall_timeout: "{{ item.se_dp_vnic_queue_stall_timeout | default(omit) }}"
    se_dp_vnic_restart_on_queue_stall_count: "{{ item.se_dp_vnic_restart_on_queue_stall_count | default(omit) }}"
    se_dp_vnic_stall_se_restart_window: "{{ item.se_dp_vnic_stall_se_restart_window | default(omit) }}"
    se_dpdk_pmd: "{{ item.se_dpdk_pmd | default(omit) }}"
    se_flow_probe_retries: "{{ item.se_flow_probe_retries | default(omit) }}"
    se_flow_probe_retry_timer: "{{ item.se_flow_probe_retry_timer | default(omit) }}"
    se_flow_probe_timer: "{{ item.se_flow_probe_timer | default(omit) }}"
    se_group_analytics_policy: "{{ item.se_group_analytics_policy | default(omit) }}"
    se_hyperthreaded_mode: "{{ item.se_hyperthreaded_mode | default(omit) }}"
    se_ip_encap_ipc: "{{ item.se_ip_encap_ipc | default(omit) }}"
    se_ipc_udp_port: "{{ item.se_ipc_udp_port | default(omit) }}"
    se_kni_burst_factor: "{{ item.se_kni_burst_factor | default(omit) }}"
    se_l3_encap_ipc: "{{ item.se_l3_encap_ipc | default(omit) }}"
    se_lro: "{{ item.se_lro | default(omit) }}"
    se_mp_ring_retry_count: "{{ item.se_mp_ring_retry_count | default(omit) }}"
    se_mtu: "{{ item.se_mtu | default(omit) }}"
    se_name_prefix: "{{ item.se_name_prefix | default(omit) }}"
    se_pcap_lookahead: "{{ item.se_pcap_lookahead | default(omit) }}"
    se_pcap_pkt_count: "{{ item.se_pcap_pkt_count | default(omit) }}"
    se_pcap_pkt_sz: "{{ item.se_pcap_pkt_sz | default(omit) }}"
    se_pcap_qdisc_bypass: "{{ item.se_pcap_qdisc_bypass | default(omit) }}"
    se_pcap_reinit_frequency: "{{ item.se_pcap_reinit_frequency | default(omit) }}"
    se_pcap_reinit_threshold: "{{ item.se_pcap_reinit_threshold | default(omit) }}"
    se_probe_port: "{{ item.se_probe_port | default(omit) }}"
    se_remote_punt_udp_port: "{{ item.se_remote_punt_udp_port | default(omit) }}"
    se_rl_prop: "{{ item.se_rl_prop | default(omit) }}"
    se_routing: "{{ item.se_routing | default(omit) }}"
    se_rum_sampling_nav_interval: "{{ item.se_rum_sampling_nav_interval | default(omit) }}"
    se_rum_sampling_nav_percent: "{{ item.se_rum_sampling_nav_percent | default(omit) }}"
    se_rum_sampling_res_interval: "{{ item.se_rum_sampling_res_interval | default(omit) }}"
    se_rum_sampling_res_percent: "{{ item.se_rum_sampling_res_percent | default(omit) }}"
    se_sb_dedicated_core: "{{ item.se_sb_dedicated_core | default(omit) }}"
    se_sb_threads: "{{ item.se_sb_threads | default(omit) }}"
    se_thread_multiplier: "{{ item.se_thread_multiplier | default(omit) }}"
    se_tracert_port_range: "{{ item.se_tracert_port_range | default(omit) }}"
    se_tunnel_mode: "{{ item.se_tunnel_mode | default(omit) }}"
    se_tunnel_udp_port: "{{ item.se_tunnel_udp_port | default(omit) }}"
    se_tx_batch_size: "{{ item.se_tx_batch_size | default(omit) }}"
    se_txq_threshold: "{{ item.se_txq_threshold | default(omit) }}"
    se_udp_encap_ipc: "{{ item.se_udp_encap_ipc | default(omit) }}"
    se_use_dpdk: "{{ item.se_use_dpdk | default(omit) }}"
    se_vnic_tx_sw_queue_flush_frequency: "{{ item.se_vnic_tx_sw_queue_flush_frequency | default(omit) }}"
    se_vnic_tx_sw_queue_size: "{{ item.se_vnic_tx_sw_queue_size | default(omit) }}"
    se_vs_hb_max_pkts_in_batch: "{{ item.se_vs_hb_max_pkts_in_batch | default(omit) }}"
    se_vs_hb_max_vs_in_pkt: "{{ item.se_vs_hb_max_vs_in_pkt | default(omit) }}"
    self_se_election: "{{ item.self_se_election | default(omit) }}"
    send_se_ready_timeout: "{{ item.send_se_ready_timeout | default(omit) }}"
    service_ip6_subnets: "{{ item.service_ip6_subnets | default(omit) }}"
    service_ip_subnets: "{{ item.service_ip_subnets | default(omit) }}"
    shm_minimum_config_memory: "{{ item.shm_minimum_config_memory | default(omit) }}"
    significant_log_throttle: "{{ item.significant_log_throttle | default(omit) }}"
    ssl_preprocess_sni_hostname: "{{ item.ssl_preprocess_sni_hostname | default(omit) }}"
    ssl_sess_cache_per_vs: "{{ item.ssl_sess_cache_per_vs | default(omit) }}"
    tenant_ref: "{{ item.tenant_ref | default(omit) }}"
    transient_shared_memory_max: "{{ item.transient_shared_memory_max | default(omit) }}"
    udf_log_throttle: "{{ item.udf_log_throttle | default(omit) }}"
    upstream_connect_timeout: "{{ item.upstream_connect_timeout | default(omit) }}"
    upstream_connpool_enable: "{{ item.upstream_connpool_enable | default(omit) }}"
    upstream_read_timeout: "{{ item.upstream_read_timeout | default(omit) }}"
    upstream_send_timeout: "{{ item.upstream_send_timeout | default(omit) }}"
    use_hyperthreaded_cores: "{{ item.use_hyperthreaded_cores | default(omit) }}"
    use_objsync: "{{ item.use_objsync | default(omit) }}"
    use_standard_alb: "{{ item.use_standard_alb | default(omit) }}"
    user_agent_cache_config: "{{ item.user_agent_cache_config | default(omit) }}"
    user_defined_metric_age: "{{ item.user_defined_metric_age | default(omit) }}"
    uuid: "{{ item.uuid | default(omit) }}"
    vcenter_clusters: "{{ item.vcenter_clusters | default(omit) }}"
    vcenter_datastore_mode: "{{ item.vcenter_datastore_mode | default(omit) }}"
    vcenter_datastores: "{{ item.vcenter_datastores | default(omit) }}"
    vcenter_datastores_include: "{{ item.vcenter_datastores_include | default(omit) }}"
    vcenter_folder: "{{ item.vcenter_folder | default(omit) }}"
    vcenter_hosts: "{{ item.vcenter_hosts | default(omit) }}"
    vcenters: "{{ item.vcenters | default(omit) }}"
    vcpus_per_se: "{{ item.vcpus_per_se | default(omit) }}"
    vip_asg: "{{ item.vip_asg | default(omit) }}"
    vnic_dhcp_ip_check_interval: "{{ item.vnic_dhcp_ip_check_interval | default(omit) }}"
    vnic_dhcp_ip_max_retries: "{{ item.vnic_dhcp_ip_max_retries | default(omit) }}"
    vnic_ip_delete_interval: "{{ item.vnic_ip_delete_interval | default(omit) }}"
    vnic_probe_interval: "{{ item.vnic_probe_interval | default(omit) }}"
    vnic_rpc_retry_interval: "{{ item.vnic_rpc_retry_interval | default(omit) }}"
    vnicdb_cmd_history_size: "{{ item.vnicdb_cmd_history_size | default(omit) }}"
    vs_host_redundancy: "{{ item.vs_host_redundancy | default(omit) }}"
    vs_scalein_timeout: "{{ item.vs_scalein_timeout | default(omit) }}"
    vs_scalein_timeout_for_upgrade: "{{ item.vs_scalein_timeout_for_upgrade | default(omit) }}"
    vs_scaleout_timeout: "{{ item.vs_scaleout_timeout | default(omit) }}"
    vs_se_scaleout_additional_wait_time: "{{ item.vs_se_scaleout_additional_wait_time | default(omit) }}"
    vs_se_scaleout_ready_timeout: "{{ item.vs_se_scaleout_ready_timeout | default(omit) }}"
    vs_switchover_timeout: "{{ item.vs_switchover_timeout | default(omit) }}"
    vss_placement: "{{ item.vss_placement | default(omit) }}"
    vss_placement_enabled: "{{ item.vss_placement_enabled | default(omit) }}"
    waf_learning_interval: "{{ item.waf_learning_interval | default(omit) }}"
    waf_learning_memory: "{{ item.waf_learning_memory | default(omit) }}"
    waf_mempool: "{{ item.waf_mempool | default(omit) }}"
    waf_mempool_size: "{{ item.waf_mempool_size | default(omit) }}"
  when:
    - (item.name | length > 0)
    - (not (item.system_default | default(false)))
    - (avi_config_state == "absent" or avi_role_state_mode == "absent")
    - (item.state | default("present") == avi_role_state_mode or avi_config_state == "absent")
  with_items: "{{ avi_role_cfg.serviceenginegroup | default([]) }}"
