# Automatically Generated File
# Copyright 2021 VMware, Inc. All rights reserved. VMware Confidential
---
- name: Avi ControllerProperties | Create or Update ControllerProperties
  no_log: "{{ avi_role_config_log_mode | default(False) }}"
  vmware.alb.avi_controllerproperties:
    controller: "{{ avi_controller | default(omit) }}"
    username: "{{ avi_username | default(omit) }}"
    password: "{{ avi_password | default(omit) }}"
    tenant: "{{ item.tenant | default(omit) }}"
    state: "{{ avi_role_state_mode }}"
    api_version: "{{ api_version | default(omit) }}"
    avi_credentials: "{{ avi_credentials | default(omit) }}"
    api_context: "{{ avi_api_context | default(omit) }}"
    avi_api_update_method: "{{ item.avi_api_update_method | default(omit) }}"
    avi_api_patch_op: "{{ item.avi_api_patch_op | default(omit) }}"
    allow_admin_network_updates: "{{ item.allow_admin_network_updates | default(omit) }}"
    allow_ip_forwarding: "{{ item.allow_ip_forwarding | default(omit) }}"
    allow_unauthenticated_apis: "{{ item.allow_unauthenticated_apis | default(omit) }}"
    allow_unauthenticated_nodes: "{{ item.allow_unauthenticated_nodes | default(omit) }}"
    api_idle_timeout: "{{ item.api_idle_timeout | default(omit) }}"
    api_perf_logging_threshold: "{{ item.api_perf_logging_threshold | default(omit) }}"
    appviewx_compat_mode: "{{ item.appviewx_compat_mode | default(omit) }}"
    async_patch_merge_period: "{{ item.async_patch_merge_period | default(omit) }}"
    async_patch_request_cleanup_duration: "{{ item.async_patch_request_cleanup_duration | default(omit) }}"
    attach_ip_retry_interval: "{{ item.attach_ip_retry_interval | default(omit) }}"
    attach_ip_retry_limit: "{{ item.attach_ip_retry_limit | default(omit) }}"
    bm_use_ansible: "{{ item.bm_use_ansible | default(omit) }}"
    check_vsvip_fqdn_syntax: "{{ item.check_vsvip_fqdn_syntax | default(omit) }}"
    cleanup_expired_authtoken_timeout_period: "{{ item.cleanup_expired_authtoken_timeout_period | default(omit) }}"
    cleanup_sessions_timeout_period: "{{ item.cleanup_sessions_timeout_period | default(omit) }}"
    cloud_discovery_interval: "{{ item.cloud_discovery_interval | default(omit) }}"
    cloud_reconcile: "{{ item.cloud_reconcile | default(omit) }}"
    cloud_reconcile_interval: "{{ item.cloud_reconcile_interval | default(omit) }}"
    cluster_ip_gratuitous_arp_period: "{{ item.cluster_ip_gratuitous_arp_period | default(omit) }}"
    configpb_attributes: "{{ item.configpb_attributes | default(omit) }}"
    consistency_check_timeout_period: "{{ item.consistency_check_timeout_period | default(omit) }}"
    controller_resource_info_collection_period: "{{ item.controller_resource_info_collection_period | default(omit) }}"
    crashed_se_reboot: "{{ item.crashed_se_reboot | default(omit) }}"
    dead_se_detection_timer: "{{ item.dead_se_detection_timer | default(omit) }}"
    default_minimum_api_timeout: "{{ item.default_minimum_api_timeout | default(omit) }}"
    del_offline_se_after_reboot_delay: "{{ item.del_offline_se_after_reboot_delay | default(omit) }}"
    detach_ip_retry_interval: "{{ item.detach_ip_retry_interval | default(omit) }}"
    detach_ip_retry_limit: "{{ item.detach_ip_retry_limit | default(omit) }}"
    detach_ip_timeout: "{{ item.detach_ip_timeout | default(omit) }}"
    dns_refresh_period: "{{ item.dns_refresh_period | default(omit) }}"
    dummy: "{{ item.dummy | default(omit) }}"
    edit_system_limits: "{{ item.edit_system_limits | default(omit) }}"
    enable_api_sharding: "{{ item.enable_api_sharding | default(omit) }}"
    enable_memory_balancer: "{{ item.enable_memory_balancer | default(omit) }}"
    enable_per_process_stop: "{{ item.enable_per_process_stop | default(omit) }}"
    enable_resmgr_log_cache_print: "{{ item.enable_resmgr_log_cache_print | default(omit) }}"
    false_positive_learning_config: "{{ item.false_positive_learning_config | default(omit) }}"
    fatal_error_lease_time: "{{ item.fatal_error_lease_time | default(omit) }}"
    federated_datastore_cleanup_duration: "{{ item.federated_datastore_cleanup_duration | default(omit) }}"
    file_object_cleanup_period: "{{ item.file_object_cleanup_period | default(omit) }}"
    file_reference_mappings: "{{ item.file_reference_mappings | default(omit) }}"
    fileobject_max_file_versions: "{{ item.fileobject_max_file_versions | default(omit) }}"
    gslb_purge_batch_size: "{{ item.gslb_purge_batch_size | default(omit) }}"
    gslb_purge_sleep_time_ms: "{{ item.gslb_purge_sleep_time_ms | default(omit) }}"
    ignore_vrf_in_networksubnetlist: "{{ item.ignore_vrf_in_networksubnetlist | default(omit) }}"
    max_dead_se_in_grp: "{{ item.max_dead_se_in_grp | default(omit) }}"
    max_pcap_per_tenant: "{{ item.max_pcap_per_tenant | default(omit) }}"
    max_se_spawn_interval_delay: "{{ item.max_se_spawn_interval_delay | default(omit) }}"
    max_seq_attach_ip_failures: "{{ item.max_seq_attach_ip_failures | default(omit) }}"
    max_seq_vnic_failures: "{{ item.max_seq_vnic_failures | default(omit) }}"
    max_threads_cc_vip_bg_worker: "{{ item.max_threads_cc_vip_bg_worker | default(omit) }}"
    permission_scoped_shared_admin_networks: "{{ item.permission_scoped_shared_admin_networks | default(omit) }}"
    persistence_key_rotate_period: "{{ item.persistence_key_rotate_period | default(omit) }}"
    portal_request_burst_limit: "{{ item.portal_request_burst_limit | default(omit) }}"
    portal_request_rate_limit: "{{ item.portal_request_rate_limit | default(omit) }}"
    portal_token: "{{ item.portal_token | default(omit) }}"
    postgres_vacuum_period: "{{ item.postgres_vacuum_period | default(omit) }}"
    process_locked_useraccounts_timeout_period: "{{ item.process_locked_useraccounts_timeout_period | default(omit) }}"
    process_pki_profile_timeout_period: "{{ item.process_pki_profile_timeout_period | default(omit) }}"
    query_host_fail: "{{ item.query_host_fail | default(omit) }}"
    resmgr_log_caching_period: "{{ item.resmgr_log_caching_period | default(omit) }}"
    restrict_cloud_read_access: "{{ item.restrict_cloud_read_access | default(omit) }}"
    safenet_hsm_version: "{{ item.safenet_hsm_version | default(omit) }}"
    se_create_timeout: "{{ item.se_create_timeout | default(omit) }}"
    se_failover_attempt_interval: "{{ item.se_failover_attempt_interval | default(omit) }}"
    se_from_marketplace: "{{ item.se_from_marketplace | default(omit) }}"
    se_offline_del: "{{ item.se_offline_del | default(omit) }}"
    se_spawn_retry_interval: "{{ item.se_spawn_retry_interval | default(omit) }}"
    se_upgrade_flow_cleanup_timeout: "{{ item.se_upgrade_flow_cleanup_timeout | default(omit) }}"
    se_vnic_cooldown: "{{ item.se_vnic_cooldown | default(omit) }}"
    se_vnic_gc_wait_time: "{{ item.se_vnic_gc_wait_time | default(omit) }}"
    secure_channel_cleanup_timeout: "{{ item.secure_channel_cleanup_timeout | default(omit) }}"
    secure_channel_controller_token_timeout: "{{ item.secure_channel_controller_token_timeout | default(omit) }}"
    secure_channel_se_token_timeout: "{{ item.secure_channel_se_token_timeout | default(omit) }}"
    seupgrade_copy_buffer_size: "{{ item.seupgrade_copy_buffer_size | default(omit) }}"
    seupgrade_copy_pool_size: "{{ item.seupgrade_copy_pool_size | default(omit) }}"
    seupgrade_fabric_pool_size: "{{ item.seupgrade_fabric_pool_size | default(omit) }}"
    seupgrade_segroup_min_dead_timeout: "{{ item.seupgrade_segroup_min_dead_timeout | default(omit) }}"
    shared_ssl_certificates: "{{ item.shared_ssl_certificates | default(omit) }}"
    skopeo_retry_interval: "{{ item.skopeo_retry_interval | default(omit) }}"
    skopeo_retry_limit: "{{ item.skopeo_retry_limit | default(omit) }}"
    soft_min_mem_per_se_limit: "{{ item.soft_min_mem_per_se_limit | default(omit) }}"
    ssl_certificate_expiry_warning_days: "{{ item.ssl_certificate_expiry_warning_days | default(omit) }}"
    system_report_cleanup_interval: "{{ item.system_report_cleanup_interval | default(omit) }}"
    system_report_limit: "{{ item.system_report_limit | default(omit) }}"
    unresponsive_se_reboot: "{{ item.unresponsive_se_reboot | default(omit) }}"
    update_dns_entry_retry_limit: "{{ item.update_dns_entry_retry_limit | default(omit) }}"
    update_dns_entry_timeout: "{{ item.update_dns_entry_timeout | default(omit) }}"
    upgrade_dns_ttl: "{{ item.upgrade_dns_ttl | default(omit) }}"
    upgrade_fat_se_lease_time: "{{ item.upgrade_fat_se_lease_time | default(omit) }}"
    upgrade_lease_time: "{{ item.upgrade_lease_time | default(omit) }}"
    upgrade_se_per_vs_scale_ops_txn_time: "{{ item.upgrade_se_per_vs_scale_ops_txn_time | default(omit) }}"
    user_agent_cache_config: "{{ item.user_agent_cache_config | default(omit) }}"
    uuid: "{{ item.uuid | default(omit) }}"
    vnic_op_fail_time: "{{ item.vnic_op_fail_time | default(omit) }}"
    vs_awaiting_se_timeout: "{{ item.vs_awaiting_se_timeout | default(omit) }}"
    vs_key_rotate_period: "{{ item.vs_key_rotate_period | default(omit) }}"
    vs_scaleout_ready_check_interval: "{{ item.vs_scaleout_ready_check_interval | default(omit) }}"
    vs_se_attach_ip_fail: "{{ item.vs_se_attach_ip_fail | default(omit) }}"
    vs_se_bootup_fail: "{{ item.vs_se_bootup_fail | default(omit) }}"
    vs_se_bootup_fail_patch: "{{ item.vs_se_bootup_fail_patch | default(omit) }}"
    vs_se_create_fail: "{{ item.vs_se_create_fail | default(omit) }}"
    vs_se_ping_fail: "{{ item.vs_se_ping_fail | default(omit) }}"
    vs_se_vnic_fail: "{{ item.vs_se_vnic_fail | default(omit) }}"
    vs_se_vnic_ip_fail: "{{ item.vs_se_vnic_ip_fail | default(omit) }}"
    vsphere_ha_detection_timeout: "{{ item.vsphere_ha_detection_timeout | default(omit) }}"
    vsphere_ha_recovery_timeout: "{{ item.vsphere_ha_recovery_timeout | default(omit) }}"
    vsphere_ha_timer_interval: "{{ item.vsphere_ha_timer_interval | default(omit) }}"
    warmstart_se_reconnect_wait_time: "{{ item.warmstart_se_reconnect_wait_time | default(omit) }}"
    warmstart_vs_resync_wait_time: "{{ item.warmstart_vs_resync_wait_time | default(omit) }}"
  when:
    - (avi_role_state_mode == "present" and avi_config_state == "present")
    - (item.state | default("present") == avi_role_state_mode or avi_config_state == "absent")
  with_items: "{{ avi_role_cfg.controllerproperties | default([]) }}"
